`timescale 1ns/1ps

module INSTRUCTION_FETCH(
	clk,
	rst,
	jump,
	branch,
	jump_addr,
	branch_addr,

	PC,
	IR
);

input clk, rst, jump, branch;
input [31:0] jump_addr, branch_addr;

output reg 	[31:0] PC;
output reg 	[31:0] IR;

reg [31:0] instruction [1023:0];
reg [31:0]i;



//output instruction
always @(posedge clk or posedge rst)
begin
	if(rst) begin
		IR <= 32'd0;
		instruction[0] = 32'b00000000000000000000000000100000;
        instruction[1] = 32'b00000000000000000000000000100000;
        instruction[2] = 32'b00000000000000000000000000100000;
        instruction[3] = 32'b00100000000010010000000000000000;
        instruction[4] = 32'b00000000000000000000000000100000;
        instruction[5] = 32'b00000000000000000000000000100000;
        instruction[6] = 32'b00000000000000000000000000100000;
        instruction[7] = 32'b10001101001010000000000000000000;
        instruction[8] = 32'b00000000000000000000000000100000;
        instruction[9] = 32'b00000000000000000000000000100000;
        instruction[10] = 32'b00000000000000000000000000100000;
        instruction[11] = 32'b00110001000011000000000000000001;
        instruction[12] = 32'b00000000000000000000000000100000;
        instruction[13] = 32'b00000000000000000000000000100000;
        instruction[14] = 32'b00000000000000000000000000100000;
        instruction[15] = 32'b00010001100000000000000000001100;
        instruction[16] = 32'b00000000000000000000000000100000;
        instruction[17] = 32'b00000000000000000000000000100000;
        instruction[18] = 32'b00000000000000000000000000100000;
        instruction[19] = 32'b00100001000010011111111111111110;
        instruction[20] = 32'b00000000000000000000000000100000;
        instruction[21] = 32'b00000000000000000000000000100000;
        instruction[22] = 32'b00000000000000000000000000100000;
        instruction[23] = 32'b00100001000010100000000000000010;
        instruction[24] = 32'b00000000000000000000000000100000;
        instruction[25] = 32'b00000000000000000000000000100000;
        instruction[26] = 32'b00000000000000000000000000100000;
        instruction[27] = 32'b00001000000000000000000000100100;
        instruction[28] = 32'b00000000000000000000000000100000;
        instruction[29] = 32'b00000000000000000000000000100000;
        instruction[30] = 32'b00000000000000000000000000100000;
        instruction[31] = 32'b00100001000010011111111111111111;
        instruction[32] = 32'b00000000000000000000000000100000;
        instruction[33] = 32'b00000000000000000000000000100000;
        instruction[34] = 32'b00000000000000000000000000100000;
        instruction[35] = 32'b00100001000010100000000000000001;
        instruction[36] = 32'b00000000000000000000000000100000;
        instruction[37] = 32'b00000000000000000000000000100000;
        instruction[38] = 32'b00000000000000000000000000100000;
        instruction[39] = 32'b00100000000010110000000000001100;
        instruction[40] = 32'b00000000000000000000000000100000;
        instruction[41] = 32'b00000000000000000000000000100000;
        instruction[42] = 32'b00000000000000000000000000100000;
        instruction[43] = 32'b00100000000011000000000010011100;
        instruction[44] = 32'b00000000000000000000000000100000;
        instruction[45] = 32'b00000000000000000000000000100000;
        instruction[46] = 32'b00000000000000000000000000100000;
        instruction[47] = 32'b00100001011010110000000000000100;
        instruction[48] = 32'b00000000000000000000000000100000;
        instruction[49] = 32'b00000000000000000000000000100000;
        instruction[50] = 32'b00000000000000000000000000100000;
        instruction[51] = 32'b00100001100011000000000000000100;
        instruction[52] = 32'b00000000000000000000000000100000;
        instruction[53] = 32'b00000000000000000000000000100000;
        instruction[54] = 32'b00000000000000000000000000100000;
        instruction[55] = 32'b10001101011011010000000000000000;
        instruction[56] = 32'b00000000000000000000000000100000;
        instruction[57] = 32'b00000000000000000000000000100000;
        instruction[58] = 32'b00000000000000000000000000100000;
        instruction[59] = 32'b00000001101010000111000000101010;
        instruction[60] = 32'b00000000000000000000000000100000;
        instruction[61] = 32'b00000000000000000000000000100000;
        instruction[62] = 32'b00000000000000000000000000100000;
        instruction[63] = 32'b00010101110000001111111111101100;
        instruction[64] = 32'b00000000000000000000000000100000;
        instruction[65] = 32'b00000000000000000000000000100000;
        instruction[66] = 32'b00000000000000000000000000100000;
        instruction[67] = 32'b00010001000011010000000000000100;
        instruction[68] = 32'b00000000000000000000000000100000;
        instruction[69] = 32'b00000000000000000000000000100000;
        instruction[70] = 32'b00000000000000000000000000100000;
        instruction[71] = 32'b00100001100011001111111111111100;
        instruction[72] = 32'b00000000000000000000000000100000;
        instruction[73] = 32'b00000000000000000000000000100000;
        instruction[74] = 32'b00000000000000000000000000100000;
        instruction[75] = 32'b10001101100010110000000000000000;
        instruction[76] = 32'b00000000000000000000000000100000;
        instruction[77] = 32'b00000000000000000000000000100000;
        instruction[78] = 32'b00000000000000000000000000100000;
        instruction[79] = 32'b00000001000010110101100000100000;
        instruction[80] = 32'b00000000000000000000000000100000;
        instruction[81] = 32'b00000000000000000000000000100000;
        instruction[82] = 32'b00000000000000000000000000100000;
        instruction[83] = 32'b00000001011000000010000000100000;
        instruction[84] = 32'b00000000000000000000000000100000;
        instruction[85] = 32'b00000000000000000000000000100000;
        instruction[86] = 32'b00000000000000000000000000100000;
        instruction[87] = 32'b00100000000010110000000000000001;
        instruction[88] = 32'b00000000000000000000000000100000;
        instruction[89] = 32'b00000000000000000000000000100000;
        instruction[90] = 32'b00000000000000000000000000100000;
        instruction[91] = 32'b00100001011010110000000000000001;
        instruction[92] = 32'b00000000000000000000000000100000;
        instruction[93] = 32'b00000000000000000000000000100000;
        instruction[94] = 32'b00000000000000000000000000100000;
        instruction[95] = 32'b00000000000000000110000000100100;
        instruction[96] = 32'b00000000000000000000000000100000;
        instruction[97] = 32'b00000000000000000000000000100000;
        instruction[98] = 32'b00000000000000000000000000100000;
        instruction[99] = 32'b00000000000000000110100000100100;
        instruction[100] = 32'b00000000000000000000000000100000;
        instruction[101] = 32'b00000000000000000000000000100000;
        instruction[102] = 32'b00000000000000000000000000100000;
        instruction[103] = 32'b00000001011011010110100000100000;
        instruction[104] = 32'b00000000000000000000000000100000;
        instruction[105] = 32'b00000000000000000000000000100000;
        instruction[106] = 32'b00000000000000000000000000100000;
        instruction[107] = 32'b00100001100011000000000000000001;
        instruction[108] = 32'b00000000000000000000000000100000;
        instruction[109] = 32'b00000000000000000000000000100000;
        instruction[110] = 32'b00000000000000000000000000100000;
        instruction[111] = 32'b00010101100010111111111111110100;
        instruction[112] = 32'b00000000000000000000000000100000;
        instruction[113] = 32'b00000000000000000000000000100000;
        instruction[114] = 32'b00000000000000000000000000100000;
        instruction[115] = 32'b00000000100011010110000000101010;
        instruction[116] = 32'b00000000000000000000000000100000;
        instruction[117] = 32'b00000000000000000000000000100000;
        instruction[118] = 32'b00000000000000000000000000100000;
        instruction[119] = 32'b00010001100000001111111111100000;
        instruction[120] = 32'b00000000000000000000000000100000;
        instruction[121] = 32'b00000000000000000000000000100000;
        instruction[122] = 32'b00000000000000000000000000100000;
        instruction[123] = 32'b00000001011000000010000000100000;
        instruction[124] = 32'b00000000000000000000000000100000;
        instruction[125] = 32'b00000000000000000000000000100000;
        instruction[126] = 32'b00000000000000000000000000100000;
        instruction[127] = 32'b00000000100000000101100000100000;
        instruction[128] = 32'b00000000000000000000000000100000;
        instruction[129] = 32'b00000000000000000000000000100000;
        instruction[130] = 32'b00000000000000000000000000100000;
        instruction[131] = 32'b00100000000011000000000000000011;
        instruction[132] = 32'b00000000000000000000000000100000;
        instruction[133] = 32'b00000000000000000000000000100000;
        instruction[134] = 32'b00000000000000000000000000100000;
        instruction[135] = 32'b00000000000000000110100000100100;
        instruction[136] = 32'b00000000000000000000000000100000;
        instruction[137] = 32'b00000000000000000000000000100000;
        instruction[138] = 32'b00000000000000000000000000100000;
        instruction[139] = 32'b00000001101011000110100000100000;
        instruction[140] = 32'b00000000000000000000000000100000;
        instruction[141] = 32'b00000000000000000000000000100000;
        instruction[142] = 32'b00000000000000000000000000100000;
        instruction[143] = 32'b00000001101010010111000000101010;
        instruction[144] = 32'b00000000000000000000000000100000;
        instruction[145] = 32'b00000000000000000000000000100000;
        instruction[146] = 32'b00000000000000000000000000100000;
        instruction[147] = 32'b00010101110000001111111111110100;
        instruction[148] = 32'b00000000000000000000000000100000;
        instruction[149] = 32'b00000000000000000000000000100000;
        instruction[150] = 32'b00000000000000000000000000100000;
        instruction[151] = 32'b00010001101010010000000000010000;
        instruction[152] = 32'b00000000000000000000000000100000;
        instruction[153] = 32'b00000000000000000000000000100000;
        instruction[154] = 32'b00000000000000000000000000100000;
        instruction[155] = 32'b00100001100011000000000000000010;
        instruction[156] = 32'b00000000000000000000000000100000;
        instruction[157] = 32'b00000000000000000000000000100000;
        instruction[158] = 32'b00000000000000000000000000100000;
        instruction[159] = 32'b00000001100010110111000000101010;
        instruction[160] = 32'b00000000000000000000000000100000;
        instruction[161] = 32'b00000000000000000000000000100000;
        instruction[162] = 32'b00000000000000000000000000100000;
        instruction[163] = 32'b00010101110000001111111111100000;
        instruction[164] = 32'b00000000000000000000000000100000;
        instruction[165] = 32'b00000000000000000000000000100000;
        instruction[166] = 32'b00000000000000000000000000100000;
        instruction[167] = 32'b00001000000000000000000010110000;
        instruction[168] = 32'b00000000000000000000000000100000;
        instruction[169] = 32'b00000000000000000000000000100000;
        instruction[170] = 32'b00000000000000000000000000100000;
        instruction[171] = 32'b00100001001010011111111111111110;
        instruction[172] = 32'b00000000000000000000000000100000;
        instruction[173] = 32'b00000000000000000000000000100000;
        instruction[174] = 32'b00000000000000000000000000100000;
        instruction[175] = 32'b00001000000000000000000010000000;
        instruction[176] = 32'b00000000000000000000000000100000;
        instruction[177] = 32'b00000000000000000000000000100000;
        instruction[178] = 32'b00000000000000000000000000100000;
        instruction[179] = 32'b00100000000010110000000000000100;
        instruction[180] = 32'b00000000000000000000000000100000;
        instruction[181] = 32'b00000000000000000000000000100000;
        instruction[182] = 32'b00000000000000000000000000100000;
        instruction[183] = 32'b00000001000010110101100000101010;
        instruction[184] = 32'b00000000000000000000000000100000;
        instruction[185] = 32'b00000000000000000000000000100000;
        instruction[186] = 32'b00000000000000000000000000100000;
        instruction[187] = 32'b00010001011000000000000000001000;
        instruction[188] = 32'b00000000000000000000000000100000;
        instruction[189] = 32'b00000000000000000000000000100000;
        instruction[190] = 32'b00000000000000000000000000100000;
        instruction[191] = 32'b00100000000010010000000000000010;
        instruction[192] = 32'b00000000000000000000000000100000;
        instruction[193] = 32'b00000000000000000000000000100000;
        instruction[194] = 32'b00000000000000000000000000100000;
        instruction[195] = 32'b00001000000000000000000011010100;
        instruction[196] = 32'b00000000000000000000000000100000;
        instruction[197] = 32'b00000000000000000000000000100000;
        instruction[198] = 32'b00000000000000000000000000100000;
        instruction[199] = 32'b00100000000010110000000000000110;
        instruction[200] = 32'b00000000000000000000000000100000;
        instruction[201] = 32'b00000000000000000000000000100000;
        instruction[202] = 32'b00000000000000000000000000100000;
        instruction[203] = 32'b00000001000010110101100000101010;
        instruction[204] = 32'b00000000000000000000000000100000;
        instruction[205] = 32'b00000000000000000000000000100000;
        instruction[206] = 32'b00000000000000000000000000100000;
        instruction[207] = 32'b00010001011000000000000000000100;
        instruction[208] = 32'b00000000000000000000000000100000;
        instruction[209] = 32'b00000000000000000000000000100000;
        instruction[210] = 32'b00000000000000000000000000100000;
        instruction[211] = 32'b00100000000010010000000000000011;
        instruction[212] = 32'b00000000000000000000000000100000;
        instruction[213] = 32'b00000000000000000000000000100000;
        instruction[214] = 32'b00000000000000000000000000100000;
        instruction[215] = 32'b00000000100000000101100000100000;
        instruction[216] = 32'b00000000000000000000000000100000;
        instruction[217] = 32'b00000000000000000000000000100000;
        instruction[218] = 32'b00000000000000000000000000100000;
        instruction[219] = 32'b00100000000011000000000000000011;
        instruction[220] = 32'b00000000000000000000000000100000;
        instruction[221] = 32'b00000000000000000000000000100000;
        instruction[222] = 32'b00000000000000000000000000100000;
        instruction[223] = 32'b00000000000000000110100000100100;
        instruction[224] = 32'b00000000000000000000000000100000;
        instruction[225] = 32'b00000000000000000000000000100000;
        instruction[226] = 32'b00000000000000000000000000100000;
        instruction[227] = 32'b00000001101011000110100000100000;
        instruction[228] = 32'b00000000000000000000000000100000;
        instruction[229] = 32'b00000000000000000000000000100000;
        instruction[230] = 32'b00000000000000000000000000100000;
        instruction[231] = 32'b00000001101010100111000000101010;
        instruction[232] = 32'b00000000000000000000000000100000;
        instruction[233] = 32'b00000000000000000000000000100000;
        instruction[234] = 32'b00000000000000000000000000100000;
        instruction[235] = 32'b00010101110000001111111111110100;
        instruction[236] = 32'b00000000000000000000000000100000;
        instruction[237] = 32'b00000000000000000000000000100000;
        instruction[238] = 32'b00000000000000000000000000100000;
        instruction[239] = 32'b00010001101010100000000000010000;
        instruction[240] = 32'b00000000000000000000000000100000;
        instruction[241] = 32'b00000000000000000000000000100000;
        instruction[242] = 32'b00000000000000000000000000100000;
        instruction[243] = 32'b00100001100011000000000000000010;
        instruction[244] = 32'b00000000000000000000000000100000;
        instruction[245] = 32'b00000000000000000000000000100000;
        instruction[246] = 32'b00000000000000000000000000100000;
        instruction[247] = 32'b00000001100010110111000000101010;
        instruction[248] = 32'b00000000000000000000000000100000;
        instruction[249] = 32'b00000000000000000000000000100000;
        instruction[250] = 32'b00000000000000000000000000100000;
        instruction[251] = 32'b00010101110000001111111111100000;
        instruction[252] = 32'b00000000000000000000000000100000;
        instruction[253] = 32'b00000000000000000000000000100000;
        instruction[254] = 32'b00000000000000000000000000100000;
        instruction[255] = 32'b00001000000000000000000100001000;
        instruction[256] = 32'b00000000000000000000000000100000;
        instruction[257] = 32'b00000000000000000000000000100000;
        instruction[258] = 32'b00000000000000000000000000100000;
        instruction[259] = 32'b00100001010010100000000000000010;
        instruction[260] = 32'b00000000000000000000000000100000;
        instruction[261] = 32'b00000000000000000000000000100000;
        instruction[262] = 32'b00000000000000000000000000100000;
        instruction[263] = 32'b00001000000000000000000011011000;
        instruction[264] = 32'b00000000000000000000000000100000;
        instruction[265] = 32'b00000000000000000000000000100000;
        instruction[266] = 32'b00000000000000000000000000100000;
        instruction[267] = 32'b00100000000010110000000000000100;
        instruction[268] = 32'b00000000000000000000000000100000;
        instruction[269] = 32'b00000000000000000000000000100000;
        instruction[270] = 32'b00000000000000000000000000100000;
        instruction[271] = 32'b10101101011010010000000000000000;
        instruction[272] = 32'b00000000000000000000000000100000;
        instruction[273] = 32'b00000000000000000000000000100000;
        instruction[274] = 32'b00000000000000000000000000100000;
        instruction[275] = 32'b00100000000010110000000000001000;
        instruction[276] = 32'b00000000000000000000000000100000;
        instruction[277] = 32'b00000000000000000000000000100000;
        instruction[278] = 32'b00000000000000000000000000100000;
        instruction[279] = 32'b10101101011010100000000000000000;
        instruction[280] = 32'b00000000000000000000000000100000;
        instruction[281] = 32'b00000000000000000000000000100000;
        instruction[282] = 32'b00000000000000000000000000100000;
        
        for (i=283; i<1024; i=i+1)  instruction[i] <= 32'b000000_00000_00000_00000_00000_100000;
    end
	else begin
		IR <= instruction[PC[11:2]]; //(0, 4, 8, ...) => (0, 1, 2, ...)
    end
end

// output program counter
always @(posedge clk or posedge rst)
begin
	if(rst)
		PC <= 32'd0;
	else
		PC <= (branch) ? branch_addr : ( (jump) ? jump_addr : (PC+4)) ;
end

endmodule